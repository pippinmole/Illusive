@page
@inject IAccountService AccountService
@using global::Illusive.Illusive.Authentication.Utility
@using global::Illusive.Illusive.Database.Interfaces
@model AccountModel
@{
    ViewData["Title"] = "Account";
}

<!DOCTYPE html>

<html>
<head>
    
    <style type="text/css">
        
        .profile-container {
            border-radius: 15px;
            background-color: #e9f4ff;
            width: 100%;
            padding: 20px;
            margin: 5px;
        }
        
        .profile-picture-uploadbtn {
            border-radius: 5px;
            border: 1px solid dimgrey;
            padding: 5px;
            box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.15)
        }
        
    </style>
    
</head>
<body>

@{ 
    var user = AccountService.GetAccountWhere(x => x.Id == this.User.GetUniqueId());
}


<h4 style="padding-left: 16px">@user.AccountName</h4>
<p style="padding-left: 16px; padding-bottom: 10px; font-style: italic; border-bottom: 1px solid grey;">
    @user.Bio
</p>

<div class="profile-container">
    <input class="input-field" style="margin-bottom: 10px" type="text" placeholder="What's on your mind?">
    <input asp-page-handler="UpdateBio" class="profile-picture-uploadbtn" type="submit" value="Update Bio"/>
</div>

<div class="profile-container">
    <img src="@user.ProfilePicture" style="width: 100px" alt=""/>

    <form enctype="multipart/form-data" method="post">
        <div asp-validation-summary="All" class="text-danger"></div>
        <dl>
            <dt>
                <label asp-for="FileUpload">Change your profile picture</label>
            </dt>
            <dd>
                <input asp-for="FileUpload" type="file" accept="image/*">
                <span asp-validation-for="FileUpload"></span>
            </dd>
        </dl>
        <input asp-page-handler="Upload" class="profile-picture-uploadbtn" type="submit" value="Update profile picture"/>
    </form>
</div>

</body>
</html>